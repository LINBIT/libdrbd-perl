<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#VERSION">VERSION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#new-id">new($id)</a></li>
      <li><a href="#set_disk-blockdev">set_disk($blockdev)</a></li>
      <li><a href="#set_diskless">set_diskless()</a></li>
      <li><a href="#get_disk">get_disk()</a></li>
      <li><a href="#set_internal_metadata">set_internal_metadata()</a></li>
      <li><a href="#set_external_metadata-blockdev">set_external_metadata($blockdev)</a></li>
      <li><a href="#get_metadata_disk">get_metadata_disk()</a></li>
      <li><a href="#set_minor-minor_number">set_minor($minor_number)</a></li>
      <li><a href="#get_minor">get_minor()</a></li>
      <li><a href="#set_minor-minor_number1">set_minor($minor_number)</a></li>
      <li><a href="#set_disk_option">set_disk_option()</a></li>
      <li><a href="#delte_disk_option">delte_disk_option()</a></li>
    </ul>
  </li>
</ul>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>        use LINBIT::DRBD::Volume;</code></pre>

<p>Methods return the object itself, which allows for:</p>

<pre><code>        my $connection = LINBIT::DRBD::Volume-&gt;new(1)
                -&gt;set_disk(&quot;/dev/thinpool/disk1&quot;)
                -&gt;set_external_metadata(&quot;/dev/thinpool/disk1_md&quot;);</code></pre>

<h1 id="VERSION">VERSION</h1>

<p>0.2.0</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="new-id">new($id)</h2>

<pre><code>        my $vol = LINBIT::DRBD::Volume-&gt;new(0);</code></pre>

<p>Create a new volume object with the given volume ID.</p>

<h2 id="set_disk-blockdev">set_disk($blockdev)</h2>

<pre><code>        $vol-&gt;set_disk(&quot;/dev/thinpool/disk1&quot;);</code></pre>

<p>Set the DRBD backing device.</p>

<h2 id="set_diskless">set_diskless()</h2>

<pre><code>        $vol-&gt;set_diskless();</code></pre>

<p>Set the DRBD backing device to &quot;none&quot; (i.e., diskless).</p>

<h2 id="get_disk">get_disk()</h2>

<pre><code>        $disk = $vol-&gt;get_disk();</code></pre>

<p>Gets the DRBD backing device block device path, or &quot;none&quot;.</p>

<h2 id="set_internal_metadata">set_internal_metadata()</h2>

<pre><code>        $vol-&gt;set_internal_metadata();</code></pre>

<p>Set the DRBD backing device to contain internal DRBD meta-data.</p>

<h2 id="set_external_metadata-blockdev">set_external_metadata($blockdev)</h2>

<pre><code>        $vol-&gt;set_external_metadata(&quot;/dev/thinpool/disk1_md&quot;);</code></pre>

<p>Set the DRBD backing device to contain external DRBD meta-data at the specified block device.</p>

<h2 id="get_metadata_disk">get_metadata_disk()</h2>

<pre><code>        $meta_data_disk = $vol-&gt;get_metadata_disk();</code></pre>

<p>Gets the DRBD meta-data block device path, or &quot;internal&quot;.</p>

<h2 id="set_minor-minor_number">set_minor($minor_number)</h2>

<pre><code>        $vol-&gt;set_minor(1000);</code></pre>

<p>Set the DRBD volume&#39;s block device minor number.</p>

<h2 id="get_minor">get_minor()</h2>

<pre><code>        $minor_nr = $vol-&gt;get_minor();</code></pre>

<p>Get the DRBD volume&#39;s minor number.</p>

<h2 id="set_minor-minor_number1">set_minor($minor_number)</h2>

<pre><code>        $vol-&gt;set_minor(1000);</code></pre>

<p>Set the DRBD volume&#39;s block device minor number.</p>

<h2 id="set_disk_option">set_disk_option()</h2>

<pre><code>        $vol-&gt;set_disk_option(&#39;key&#39;, &#39;value&#39;);</code></pre>

<p>Sets an option in the disk-section of this volume.</p>

<h2 id="delte_disk_option">delte_disk_option()</h2>

<pre><code>        $vol-&gt;delete_disk_option(&#39;key&#39;);</code></pre>

<p>Deletes an option in the disk-section of this volume.</p>


</body>

</html>


